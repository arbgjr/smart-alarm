{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "SmartAlarm": "Information"
    }
  },
  "AllowedHosts": "*",
  "JWT": {
    "SecretKey": "${JWT_SECRET_KEY}",
    "Issuer": "${JWT_ISSUER:SmartAlarm}",
    "Audience": "SmartAlarm.IntegrationService",
    "ExpirationMinutes": "${JWT_EXPIRATION_MINUTES:60}"
  },
  "ConnectionStrings": {
    "DefaultConnection": "Host=${DB_HOST:localhost};Port=${DB_PORT:5432};Database=${DB_NAME:smartalarm};Username=${DB_USER:postgres};Password=${DB_PASSWORD}"
  },
  "ExternalAPIs": {
    "Google": {
      "ClientId": "${GOOGLE_CLIENT_ID}",
      "ClientSecret": "${GOOGLE_CLIENT_SECRET}",
      "RedirectUri": "${GOOGLE_REDIRECT_URI}",
      "CalendarScopes": ["https://www.googleapis.com/auth/calendar.readonly"]
    },
    "Microsoft": {
      "ClientId": "${MICROSOFT_CLIENT_ID}",
      "ClientSecret": "${MICROSOFT_CLIENT_SECRET}",
      "TenantId": "${MICROSOFT_TENANT_ID}",
      "RedirectUri": "${MICROSOFT_REDIRECT_URI}",
      "GraphScopes": ["https://graph.microsoft.com/calendars.read"]
    },
    "HolidayAPI": {
      "ApiKey": "${HOLIDAY_API_KEY}",
      "BaseUrl": "${HOLIDAY_API_URL:https://holidays.abstractapi.com/v1/}",
      "TimeoutSeconds": 30
    }
  },
  "Observability": {
    "ServiceName": "SmartAlarm.IntegrationService",
    "ServiceVersion": "1.0.0",
    "OtlpEndpoint": "${OTLP_ENDPOINT:http://localhost:4317}",
    "EnableTracing": "${ENABLE_TRACING:true}",
    "EnableMetrics": "${ENABLE_METRICS:true}",
    "EnableLogging": "${ENABLE_LOGGING:true}"
  },
  "Polly": {
    "RetryPolicy": {
      "RetryCount": 3,
      "DelaySeconds": 2,
      "BackoffMultiplier": 2.0
    },
    "CircuitBreaker": {
      "FailureThreshold": 0.5,
      "SamplingDuration": "00:01:00",
      "MinimumThroughput": 10,
      "DurationOfBreak": "00:00:30"
    },
    "Timeout": {
      "TimeoutSeconds": 30
    }
  }
}
